---
import { getEntry, getCollection } from "astro:content";

// export const prerender = true;

const { lang, category } = Astro.params;

// Fetch themes from Content Collections
const entryId = `${category}-${lang}`;
const entry = await getEntry("themes", entryId);
const themes = entry ? entry.data : [];
const defaultThemeId = themes[0]?.id || "VisualDesigner"; // Fallback safe

// Redirect to the first theme
if (lang && category) {
    return Astro.redirect(`/${lang}/explore/${category}/${defaultThemeId}`);
}

return Astro.redirect("/404");
---

<!-- 
    This page is now a redirector. 
    It ensures that visiting /[lang]/explore/[category] automatically 
    takes the user to the first theme in that category.
-->
