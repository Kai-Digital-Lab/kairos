---
import type { ISubThemeDetail } from "@/types/Theme";
import Button from "@/components/common/Button.astro";
import Badge from "@/components/common/Badge.astro";
import Card from "@/components/common/Card.astro";

interface Props {
    theme: ISubThemeDetail;
}

const { theme } = Astro.props;
const { contentFocus } = theme;
const lang = Astro.currentLocale || "en";

const t = {
    en: {
        badges: ["HIPAA Compliant", "24/7 Support"],
        desc: "Compassionate care powered by advanced medical technology. Your health is our priority.",
        quick: "Quick Appointment",
        noAcc: "No account required.",
        meet: "Meet Our Specialists",
        view: "View Profile",
        doctors: [
            { name: "Dr. Emily Chen", role: "Cardiologist" },
            { name: "Dr. James Wilson", role: "Pediatrician" },
            { name: "Dr. Sarah Patel", role: "Neurologist" },
        ],
    },
    "zh-tw": {
        badges: ["符合 HIPAA 標準", "24/7 支援"],
        desc: "以先進醫療科技提供充滿關懷的照護。您的健康是我們的首要任務。",
        quick: "快速預約",
        noAcc: "無需註冊",
        meet: "認識我們的專家",
        view: "查看簡介",
        doctors: [
            { name: "Dr. Emily Chen", role: "心臟科" },
            { name: "Dr. James Wilson", role: "小兒科" },
            { name: "Dr. Sarah Patel", role: "神經科" },
        ],
    },
}[lang] || {
    badges: [],
    desc: "",
    quick: "",
    noAcc: "",
    meet: "",
    view: "",
    doctors: [],
};

const baseDoctors = [
    { img: "https://picsum.photos/100/100?random=dr1" },
    { img: "https://picsum.photos/100/100?random=dr2" },
    { img: "https://picsum.photos/100/100?random=dr3" },
];

const doctors = baseDoctors.map((d, i) => ({
    ...d,
    ...(t.doctors[i] || {}),
}));
---

<div
    class="bg-white dark:bg-slate-900 text-gray-800 dark:text-gray-100 font-sans transition-colors duration-300 min-h-screen"
>
    <div
        class="bg-teal-50 dark:bg-teal-900/20 py-12 px-6 border-b border-teal-100 dark:border-teal-900"
    >
        <div
            class="max-w-6xl mx-auto flex flex-col md:flex-row items-center justify-between gap-8"
        >
            <div>
                <div class="flex items-center gap-2 mb-4">
                    <Badge
                        variant="neutral"
                        class="bg-white dark:bg-slate-800 text-teal-700 dark:text-teal-300 border-none shadow-sm px-2 py-1"
                    >
                        {t.badges[0]}
                    </Badge>
                    <Badge
                        variant="neutral"
                        class="bg-white dark:bg-slate-800 text-teal-700 dark:text-teal-300 border-none shadow-sm px-2 py-1"
                    >
                        {t.badges[1]}
                    </Badge>
                </div>
                <h2
                    class="text-3xl font-bold text-gray-900 dark:text-white mb-4"
                >
                    {contentFocus.title}
                </h2>
                <p class="text-gray-600 dark:text-gray-400 max-w-lg">
                    {t.desc}
                </p>
            </div>
            <Card
                variant="default"
                class="p-6 shadow-lg border-t-4 border-l-0 border-r-0 border-b-0 !border-t-teal-500 w-full md:w-auto min-w-[300px]"
            >
                <h3 class="font-bold text-lg mb-4 text-center">{t.quick}</h3>
                <Button
                    variant="primary"
                    class="w-full bg-teal-600 hover:bg-teal-700 text-white mb-2 py-2"
                >
                    {contentFocus.primaryCTA}
                </Button>
                <p
                    class="text-xs text-center text-gray-400 dark:text-gray-500 mt-2"
                >
                    {t.noAcc}
                </p>
            </Card>
        </div>
    </div>

    {
        contentFocus.showCredentials && (
            <div class="max-w-6xl mx-auto py-16 px-6">
                <h3 class="text-center font-bold text-2xl mb-12 text-gray-800 dark:text-gray-100">
                    {t.meet}
                </h3>
                <div class="grid md:grid-cols-3 gap-8">
                    {doctors.map((dr) => (
                        <Card variant="hover" class="p-6 text-center group">
                            <img
                                src={dr.img}
                                alt={dr.name}
                                class="w-24 h-24 rounded-full mx-auto mb-4 object-cover border-2 border-teal-100 dark:border-teal-900 group-hover:border-teal-500 transition-colors"
                            />
                            <h4 class="font-bold text-lg text-gray-900 dark:text-white">
                                {dr.name}
                            </h4>
                            <p class="text-teal-600 dark:text-teal-400 font-medium text-sm mb-4">
                                {dr.role}
                            </p>
                            <div class="flex justify-center gap-2 mb-4">
                                <div class="w-2 h-2 rounded-full bg-gray-300 dark:bg-gray-600" />
                                <div class="w-2 h-2 rounded-full bg-gray-300 dark:bg-gray-600" />
                                <div class="w-2 h-2 rounded-full bg-gray-300 dark:bg-gray-600" />
                            </div>
                            <Button
                                variant="outline"
                                class="w-full border-teal-200 text-teal-600 hover:bg-teal-50 dark:text-teal-400 dark:border-teal-800"
                            >
                                {t.view}
                            </Button>
                        </Card>
                    ))}
                </div>
            </div>
        )
    }
</div>
